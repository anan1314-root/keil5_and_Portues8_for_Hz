C51 COMPILER V9.60.0.0   T1_NIXIE                                                          12/08/2025 06:25:46 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE T1_NIXIE
OBJECT MODULE PLACED IN .\Objects\T1_Nixie.obj
COMPILER INVOKED BY: F:\Keil_All\Keil_MDK\C51\BIN\C51.EXE T1_Nixie.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.
                    -\Listings\T1_Nixie.lst) TABS(2) OBJECT(.\Objects\T1_Nixie.obj)

line level    source

   1          #include <REGX52.H>
   2          #include "T1_Nixie.h"//anan da wang smg han shu
   3          // æ•°ç ç®¡æ®µé€‰è¡¨(å…±é˜´æž)ï¼Œ0-F
   4          unsigned char DS_T[] = {0x3F,0x06,0x5B,0x4F,0x66,0x6D,0x7D,0x07,0x7F,0x6F,0x77,0x7C,0x39,0x5E,0x79,0x71};
   5          unsigned char N_Buf[8] = {0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10};                                     // æ˜¾ç¤ºç¼“å­˜ï¼Œé
             -»˜è®¤å…¨ç­
   6          unsigned char N_Wei  =  0;                                                                              // å½“å‰æ‰«æä½
   7          
   8          
   9          // å®šæ—¶å™¨0åˆå§‹åŒ–
  10          void T0_Init(void)
  11          {
  12   1        TMOD &= 0xF0;   // æ¸…ç©ºdi4ä½
  13   1        TMOD |= 0x01;   // å®šæ—¶å™¨0ï¼Œæ¨¡å¼1
  14   1        TL0 = 0x66;     // å®šæ—¶1msåˆå€¼
  15   1        TH0 = 0xFC;     // å®šæ—¶1msåˆå€¼
  16   1        TF0 = 0;        // æ¸…æ ‡å¿—
  17   1        TR0 = 1;        // å¯åŠ¨å®šæ—¶å™¨
  18   1        ET0 = 1;        // å¼€ä¸­æ–­
  19   1        EA = 1;         // å¼€æ€»ä¸­æ–­
  20   1        PT0 = 0;        // ä½Žä¼˜å…ˆçº§
  21   1      }
  22          
  23          void N_T(unsigned char loc,unsigned char num)
  24          {
  25   1        if(loc >= 1 && loc <= 8)  // å‚æ•°æ£€æŸ¥
  26   1        {
  27   2          N_Buf[loc-1] = num;  // è®¾ç½®æ˜¾ç¤ºæ•°å­—
  28   2        }
  29   1      }
  30          
  31          // å…¨éƒ¨ç†„ç­
  32          void N_AllOff(void)
  33          {
  34   1        unsigned char i;
  35   1        for(i = 0; i < 8; i++)
  36   1        {
  37   2          N_Buf[i] = 0x10;  // å…¨éƒ¨ç†„ç­
  38   2        }
  39   1      }
  40          
  41          // å®šæ—¶å™¨0ä¸­æ–­å‡½æ•°
  42          void T0_Time() interrupt 1
  43          { 
  44   1        static unsigned int T0_Num = 0; // è®¡æ•°å˜é‡ 
  45   1        TL0 = 0x66;                     // é‡è£…åˆå€¼
  46   1        TH0 = 0xFC;                     // é‡è£…åˆå€¼
  47   1        T0_Num++;
  48   1        if(T0_Num >= 1)                 // 1msæ‰«æ
  49   1        {
  50   2          T0_Num = 0;
  51   2          
  52   2          P0 = 0x00;                    // æ¶ˆéš
  53   2          
C51 COMPILER V9.60.0.0   T1_NIXIE                                                          12/08/2025 06:25:46 PAGE 2   

  54   2          // æ£€æŸ¥æ˜¯å¦éœ€è¦æ˜¾ç¤º
  55   2          if(N_Buf[N_Wei] != 0x10)  // ä¸æ˜¯ç†„ç­æ ‡å¿—
  56   2          {
  57   3            // ä½é€‰
  58   3            switch(N_Wei + 1)
  59   3            {
  60   4              case 1: P2_2=1; P2_3=1; P2_4=1; break;  // ç¬¬1ä½
  61   4              case 2: P2_2=0; P2_3=1; P2_4=1; break;  // ç¬¬2ä½
  62   4              case 3: P2_2=1; P2_3=0; P2_4=1; break;  // ç¬¬3ä½
  63   4              case 4: P2_2=0; P2_3=0; P2_4=1; break;  // ç¬¬4ä½
  64   4              case 5: P2_2=1; P2_3=1; P2_4=0; break;  // ç¬¬5ä½
  65   4              case 6: P2_2=0; P2_3=1; P2_4=0; break;  // ç¬¬6ä½
  66   4              case 7: P2_2=1; P2_3=0; P2_4=0; break;  // ç¬¬7ä½
  67   4              case 8: P2_2=0; P2_3=0; P2_4=0; break;  // ç¬¬8ä½
  68   4            }
  69   3            
  70   3            // æ®µé€‰
  71   3            P0 = DS_T[N_Buf[N_Wei]];
  72   3          }
  73   2          
  74   2          // æ›´æ–°æ‰«æä½
  75   2          N_Wei++;
  76   2          if(N_Wei >= 8)
  77   2          {
  78   3            N_Wei = 0;
  79   3          }
  80   2        }
  81   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    267    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     27    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
